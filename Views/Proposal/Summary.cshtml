@model MyProposalViewModel

@{
    ViewData["Title"] = "Proposal Summary";
}

<!-- Display the proposal title -->
<h2>@Model.Title</h2>

<!-- Summary content container -->
<div class="summary-section">
    <dl class="row">

        <!-- Table fields to be displayed  -->
        <!-- Submitted By -->
        <dt class="col-sm-3">Submitted By</dt>
        <dd class="col-sm-9">@Model.SubmittedByName</dd>

        <!-- Status -->
        <dt class="col-sm-3">Status</dt>
        <dd class="col-sm-9">@Model.StatusName</dd>

        <!-- Project Level -->
        <dt class="col-sm-3">Project Level</dt>
        <dd class="col-sm-9">@Model.ProjectLevel</dd>

        <!-- Synopsis (reduced, with toggle to allow expansion) -->
        <dt class="col-sm-3">Synopsis</dt>
        <dd class="col-sm-9">
            <span id="synopsisPreview">
                @Model.Synopsis.Substring(0, Math.Min(Model.Synopsis.Length, 50))...
                <a href="#" onclick="toggle('synopsis'); return false;">View More</a>
            </span>
            <span id="synopsisFull" style="display:none;">
                @Model.Synopsis
                <a href="#" onclick="toggle('synopsis'); return false;">View Less</a>
            </span>
        </dd>

        <!-- Method (reduced, with toggle to allow expansion) -->
        <dt class="col-sm-3">Method</dt>
        <dd class="col-sm-9">
            <span id="methodPreview">
                @Model.Method.Substring(0, Math.Min(Model.Method.Length, 50))...
                <a href="#" onclick="toggle('method'); return false;">View More</a>
            </span>
            <span id="methodFull" style="display:none;">
                @Model.Method
                <a href="#" onclick="toggle('method'); return false;">View Less</a>
            </span>
        </dd>

        <!-- Outcomes (reduced, with toggle to allow expansion) -->
        <dt class="col-sm-3">Outcomes</dt>
        <dd class="col-sm-9">
            <span id="outcomesPreview">
                @Model.Outcomes.Substring(0, Math.Min(Model.Outcomes.Length, 50))...
                <a href="#" onclick="toggle('outcomes'); return false;">View More</a>
            </span>
            <span id="outcomesFull" style="display:none;">
                @Model.Outcomes
                <a href="#" onclick="toggle('outcomes'); return false;">View Less</a>
            </span>
        </dd>

        <!-- Resource -->
        <dt class="col-sm-3">Resources</dt>
        <dd class="col-sm-9">@Model.Resources</dd>

        <!-- Ethical Considerations -->
        <dt class="col-sm-3">Ethical Considerations</dt>
        <dd class="col-sm-9">@Model.EthicalConsiderations</dd>

        <!-- Milestones -->
        <dt class="col-sm-3">Milestones</dt>
        <dd class="col-sm-9">@Model.Milestones</dd>

        <!-- Estimated completion date -->
        <dt class="col-sm-3">Estimated Completion</dt>
        <dd class="col-sm-9">@Model.EstimatedCompletionDate.ToString("yyyy-MM-dd")</dd>

    </dl>
</div>

<!-- Javascript function to toggle Synopsis, Method, and Outcomes fields -->
@section Scripts {
    <script>
        function toggle(section) {
            const preview = document.getElementById(section + 'Preview');
            const full = document.getElementById(section + 'Full');

            // Handling for blank data fields
            if (preview.style.display === 'none') {
                preview.style.display = '';
                full.style.display = 'none';
            } else {
                preview.style.display = 'none';
                full.style.display = '';
            }
        }
    </script>
}